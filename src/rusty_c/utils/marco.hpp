#pragma once


#define PP_CAT(a, b) PP_CAT_IMPL(a, b)
#define PP_CAT_IMPL(a, b) a##b

#define PP_STR(s) PP_STR_IMPL(s)
#define PP_STR_IMPL(s) #s

#define PP_GET_N(N, ...) PP_CAT(__PP_GET_N_, N)(__VA_ARGS__)
#define __PP_GET_N_0(_0, ...) _0
#define __PP_GET_N_1(_0, _1, ...) _1
#define __PP_GET_N_2(_0, _1, _2, ...) _2
#define __PP_GET_N_3(_0, _1, _2, _3, ...) _3
#define __PP_GET_N_4(_0, _1, _2, _3, _4, ...) _4
#define __PP_GET_N_5(_0, _1, _2, _3, _4, _5, ...) _5
#define __PP_GET_N_6(_0, _1, _2, _3, _4, _5, _6, ...) _6
#define __PP_GET_N_7(_0, _1, _2, _3, _4, _5, _6, _7, ...) _7
#define __PP_GET_N_8(_0, _1, _2, _3, _4, _5, _6, _7, _8, ...) _8
#define __PP_GET_N_9(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, ...) _9
#define __PP_GET_N_10(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, ...) _10
#define __PP_GET_N_11(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, ...) _11
#define __PP_GET_N_12(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, ...) _12
#define __PP_GET_N_13(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, ...) _13
#define __PP_GET_N_14(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, ...) _14
#define __PP_GET_N_15(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, ...) _15
#define __PP_GET_N_16(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, ...) _16
#define __PP_GET_N_17(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, ...) _17
#define __PP_GET_N_18(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, ...) _18
#define __PP_GET_N_19(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, ...) _19
#define __PP_GET_N_20(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20,   \
                      ...)                                                                                             \
  _20

#define PP_GET_LEN(...)                                                                                                \
  PP_GET_N(20, __VA_ARGS__ __VA_OPT__(, ) 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0)

// convert each token to string, separated by comma
#define VA_ARGS_TO_STRING(...) PP_CAT(__TO_STRING_, PP_GET_LEN(__VA_ARGS__))(__VA_ARGS__)
#define __TO_STRING_1(_0) #_0
#define __TO_STRING_2(_0, _1) #_0, #_1
#define __TO_STRING_3(_0, _1, _2) #_0, #_1, #_2
#define __TO_STRING_4(_0, _1, _2, _3) #_0, #_1, #_2, #_3
#define __TO_STRING_5(_0, _1, _2, _3, _4) #_0, #_1, #_2, #_3, #_4
#define __TO_STRING_6(_0, _1, _2, _3, _4, _5) #_0, #_1, #_2, #_3, #_4, #_5
#define __TO_STRING_7(_0, _1, _2, _3, _4, _5, _6) #_0, #_1, #_2, #_3, #_4, #_5, #_6
#define __TO_STRING_8(_0, _1, _2, _3, _4, _5, _6, _7) #_0, #_1, #_2, #_3, #_4, #_5, #_6, #_7
#define __TO_STRING_9(_0, _1, _2, _3, _4, _5, _6, _7, _8) #_0, #_1, #_2, #_3, #_4, #_5, #_6, #_7, #_8
#define __TO_STRING_10(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9) #_0, #_1, #_2, #_3, #_4, #_5, #_6, #_7, #_8, #_9
#define __TO_STRING_11(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10)                                                    \
  #_0, #_1, #_2, #_3, #_4, #_5, #_6, #_7, #_8, #_9, #_10
#define __TO_STRING_12(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11)                                               \
  #_0, #_1, #_2, #_3, #_4, #_5, #_6, #_7, #_8, #_9, #_10, #_11
#define __TO_STRING_13(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12)                                          \
  #_0, #_1, #_2, #_3, #_4, #_5, #_6, #_7, #_8, #_9, #_10, #_11, #_12
#define __TO_STRING_14(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13)                                     \
  #_0, #_1, #_2, #_3, #_4, #_5, #_6, #_7, #_8, #_9, #_10, #_11, #_12, #_13
#define __TO_STRING_15(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14)                                \
  #_0, #_1, #_2, #_3, #_4, #_5, #_6, #_7, #_8, #_9, #_10, #_11, #_12, #_13, #_14
#define __TO_STRING_16(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15)                           \
  #_0, #_1, #_2, #_3, #_4, #_5, #_6, #_7, #_8, #_9, #_10, #_11, #_12, #_13, #_14, #_15
#define __TO_STRING_17(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16)                      \
  #_0, #_1, #_2, #_3, #_4, #_5, #_6, #_7, #_8, #_9, #_10, #_11, #_12, #_13, #_14, #_15, #_16
#define __TO_STRING_18(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17)                 \
  #_0, #_1, #_2, #_3, #_4, #_5, #_6, #_7, #_8, #_9, #_10, #_11, #_12, #_13, #_14, #_15, #_16, #_17
#define __TO_STRING_19(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18)            \
  #_0, #_1, #_2, #_3, #_4, #_5, #_6, #_7, #_8, #_9, #_10, #_11, #_12, #_13, #_14, #_15, #_16, #_17, #_18
#define __TO_STRING_20(_0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19)       \
  #_0, #_1, #_2, #_3, #_4, #_5, #_6, #_7, #_8, #_9, #_10, #_11, #_12, #_13, #_14, #_15, #_16, #_17, #_18, #_19
